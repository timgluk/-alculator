"use strict";const buttons=document.querySelector(".buttons"),buttonsNumbers=[...document.querySelectorAll("[data-number]")],buttonsMethods=[...document.querySelectorAll("[data-method]")],display=document.querySelector(".display");display.value=0;let numberA="",numberB="",sign="",equals=!1;function clean(){display.value="0",numberA="",numberB="",sign="",equals=!1}buttons.addEventListener("click",(function(e){const u=e.target,n=u.dataset.number,a=u.dataset.method;if("BUTTON"==u.tagName&&("dot"!==n||!display.value.includes("."))){if(n&&(""===numberB&&""===sign?(numberA+=String(u.innerText),display.value=""===numberA?"0":numberA):""!==numberA&&""!==numberB&&equals?(numberB=String(u.innerText),equals=!1,display.value=""===numberB?"0":numberB):(numberB+=String(u.innerText),display.value=""===numberB?"0":numberB)),"subtract"===a||"add"===a?(sign=String(u.innerText),display.value=sign):"divide"===a?(sign="/",display.value=String(u.innerText)):"multiply"===a&&(sign="*",display.value=String(u.innerText)),"equals"===a){switch(equals=!0,sign){case"/":numberA=+numberA/+numberB;break;case"*":numberA=+numberA*+numberB;break;case"+":numberA=+numberA+ +numberB;break;case"-":numberA=+numberA-+numberB}display.value=numberA}switch(a){case"clean":clean();break;case"backspace":display.value===numberA&&""===numberB&&(numberA=display.value.slice(0,-1),"-"===numberA&&(numberA=""),display.value=""===numberA?0:numberA),display.value===numberB&&(numberB=display.value.slice(0,-1),"-"===numberB&&(numberB=""),display.value=""===numberB?0:numberB);break;case"toggle":if("0"===display.value)break;if(display.value===sign)break;if(display.value===numberA&&""===numberB&&"-"===display.value[0]){numberA=display.value.slice(1),display.value=""===numberA?0:numberA;break}if(display.value===numberA&&""===numberB&&"-"!==display.value[0]){numberA="-"+display.value,display.value=""===numberA?0:numberA;break}if(display.value===numberB&&"-"===display.value[0]){numberB=display.value.slice(1),display.value=""===numberB?0:numberB;break}numberB="-"+display.value,display.value=""===numberB?0:numberB;break;case"percent":""!==numberA&&""===numberB&&""===sign?(display.value=+numberA/100,numberA=display.value):""!==numberA&&""!==numberB&&""!==sign&&(display.value=+numberB/100*+numberA,numberB=display.value)}}}));